<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="架构," />










<meta name="description" content="一、前言本手册以开发者为视角分为 Java语言规范（遵循《阿里巴巴 Java开发手册》），Android 资源文件命名与使用，Android 基本组件，UI 与布局，进程、线程与消息通信，文件与数据库，Bitmap、 Drawable 与动画，安全，其他等九大部分，根据约束力强弱，规约依次分为【强制】、【推荐】、【参考】三大类：
【强制】 必须遵守，违反本约定或将会引起严重的后果；
【推荐】 尽量">
<meta property="og:type" content="article">
<meta property="og:title" content="阿里Android开发规约及分析">
<meta property="og:url" content="http://yoursite.com/2019/02/25/阿里Android规约/index.html">
<meta property="og:site_name" content="Muse--D.D">
<meta property="og:description" content="一、前言本手册以开发者为视角分为 Java语言规范（遵循《阿里巴巴 Java开发手册》），Android 资源文件命名与使用，Android 基本组件，UI 与布局，进程、线程与消息通信，文件与数据库，Bitmap、 Drawable 与动画，安全，其他等九大部分，根据约束力强弱，规约依次分为【强制】、【推荐】、【参考】三大类：
【强制】 必须遵守，违反本约定或将会引起严重的后果；
【推荐】 尽量">
<meta property="og:image" content="http://yoursite.com/https:////upload-images.jianshu.io/upload_images/4706202-ed072c3a8d95cb22?imageMogr2/auto-orient/strip%7CimageView2/2/w/631/format/webp">
<meta property="og:updated_time" content="2019-02-25T03:35:46.461Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="阿里Android开发规约及分析">
<meta name="twitter:description" content="一、前言本手册以开发者为视角分为 Java语言规范（遵循《阿里巴巴 Java开发手册》），Android 资源文件命名与使用，Android 基本组件，UI 与布局，进程、线程与消息通信，文件与数据库，Bitmap、 Drawable 与动画，安全，其他等九大部分，根据约束力强弱，规约依次分为【强制】、【推荐】、【参考】三大类：
【强制】 必须遵守，违反本约定或将会引起严重的后果；
【推荐】 尽量">
<meta name="twitter:image" content="http://yoursite.com/https:////upload-images.jianshu.io/upload_images/4706202-ed072c3a8d95cb22?imageMogr2/auto-orient/strip%7CimageView2/2/w/631/format/webp">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/02/25/阿里Android规约/"/>





  <title>阿里Android开发规约及分析 | Muse--D.D</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Muse--D.D</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/25/阿里Android规约/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="bo.wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Muse--D.D">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">阿里Android开发规约及分析</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-25T00:00:00+08:00">
                2019-02-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h3><p>本手册以开发者为视角分为 Java语言规范（遵循《阿里巴巴 Java开发手册》），Android 资源文件命名与使用，Android 基本组件，UI 与布局，进程、线程与消息通信，文件与数据库，Bitmap、 Drawable 与动画，安全，其他等九大部分，根据约束力强弱，规约依次分为【强制】、【推荐】、【参考】三大类：</p>
<p>【强制】 必须遵守，违反本约定或将会引起严重的后果；</p>
<p>【推荐】 尽量遵守，长期遵守有助于系统稳定性和合作效率的提升；</p>
<p>【参考】 充分理解，技术意识的引导，是个人学习、团队沟通、项目合作的方向。</p>
<h3 id="二、内容"><a href="#二、内容" class="headerlink" title="二、内容"></a>二、内容</h3><h1 id="一、Java语言规范"><a href="#一、Java语言规范" class="headerlink" title="一、Java语言规范"></a>一、Java语言规范</h1><p>遵循《阿里巴巴 Java 开发手册》，如果有需要可以关注分享达人秀公众号回复“Java开发手册”获取最新纪念版下载链接。</p>
<h1 id="二、Android资源文件命名与使用"><a href="#二、Android资源文件命名与使用" class="headerlink" title="二、Android资源文件命名与使用"></a>二、Android资源文件命名与使用</h1><p>1.【推荐】资源文件需带模块前缀。</p>
<p>2.【推荐】layout 文件的命名方式。</p>
<blockquote>
<p>​    Activity 的 layout 以 module_activity 开头</p>
<p>​    Fragment 的 layout 以 module_fragment 开头</p>
<p>​    Dialog 的 layout 以 module_dialog 开头</p>
<p>​    include 的 layout 以 module_include 开头</p>
<p>​    ListView 的行 layout 以 module_list_item 开头</p>
<p>​    RecyclerView 的 item layout 以 module_recycle_item 开头</p>
<p>​    GridView 的行 layout 以 module_grid_item 开头</p>
</blockquote>
<p>3.【推荐】drawable 资源名称以小写单词+下划线的方式命名，根据分辨率不同存放在不同的 drawable 目录下，建议只使用一套，例如 drawable-xhdpi。采用规则如下:</p>
<blockquote>
<p>模块名<em>业务功能描述</em>控件描述_控件状态限定词</p>
</blockquote>
<p>​    如：module_login_btn_pressed,module_tabs_icon_home_normal</p>
<p>4.【推荐】anim 资源名称以小写单词+下划线的方式命名，采用以下规则：</p>
<blockquote>
<p>模块名<em>逻辑名称</em>[方向|序号]</p>
</blockquote>
<p>tween 动 画 资 源 ： 尽 可 能 以 通 用 的 动 画 名 称 命 名 ， 如：module_fade_in ,module_fade_out , module_push_down_in (动画+方向)；</p>
<p>frame 动画资源：尽可能以模 块+功能命名+序号。如：module_loading_grey_001</p>
<p>5.【推荐】color 资源使用#AARRGGBB 格式，写入 module_colors.xml 文件中，命名格式采用以下规则：</p>
<blockquote>
<p>模块名<em>逻辑名称</em>颜色</p>
</blockquote>
<p>​    如：#33b5e5e5</p>
<p>6.【推荐】dimen 资源以小写单词+下划线方式命名，写入 module_dimens.xml 文件中，采用以下规则：</p>
<blockquote>
<p>模块名_描述信息</p>
</blockquote>
<p>​    如：1dp</p>
<p>7.【推荐】style 资源采用小写单词+下划线方式命名，写入 module_styles.xml 文件中，采用以下规则：</p>
<blockquote>
<p>父 style 名称.当前 style 名称</p>
</blockquote>
<p>8.【推荐】string资源文件或者文本用到字符需要全部写入 module_strings.xml文件中，字符串以小写单词+下划线的方式命名，采用以下规则：</p>
<blockquote>
<p> 模块名_逻辑名称</p>
</blockquote>
<p>​    如：moudule_login_tips,module_homepage_notice_desc</p>
<p>9.【推荐】Id 资源原则上以驼峰法命名，View 组件的资源 id 需要以 View 的缩写作为前缀。常用缩写表如下：</p>
<p><img src="https:////upload-images.jianshu.io/upload_images/4706202-ed072c3a8d95cb22?imageMogr2/auto-orient/strip%7CimageView2/2/w/631/format/webp" alt="img"></p>
<p>​    其它控件的缩写推荐使用小写字母并用下划线进行分割，例如：</p>
<p>ProgressBar 对应的缩写为 progress_bar</p>
<p>DatePicker 对应的缩写为 date_picker</p>
<p>10.【推荐】大分辨率图片（单维度超过 1000）大分辨率图片建议统一放在 xxhdpi 目录下管理，否则将导致占用内存成倍数增加。</p>
<p>​    说明：</p>
<p>​    为了支持多种屏幕尺寸和密度， Android 为多种屏幕提供不同的资源目录进行适配。为不同屏幕密度提供不同的位图可绘制对象，可用于密度特定资源的配置限定符（在</p>
<p>下面详述） 包括 ldpi（低）、 mdpi（中）、 hdpi（高）、 xhdpi（超高）、 xxhdpi （超超高）和 xxxhdpi（超超超高）。例如，高密度屏幕的位图应使用 drawable-hdpi/。</p>
<p>​    根据当前的设备屏幕尺寸和密度，将会寻找最匹配的资源，如果将高分辨率图片放入低密度目录，将会造成低端机加载过大图片资源，又可能造成 OOM，同时也是资源浪费，没有必要在低端机使用大图。</p>
<h1 id="三、Android基本组件"><a href="#三、Android基本组件" class="headerlink" title="三、Android基本组件"></a>三、Android基本组件</h1><p>Android 基本组件指 Activity、 Fragment、 Service、 BroadcastReceiver、ContentProvider 等等。</p>
<p>1.【强制】Activity 间的数据通信，对于数据量比较大的，避免使用 Intent + Parcelable的方式，可以考虑 EventBus 等替代方案，以免造成 TransactionTooLargeException。</p>
<p>2.【推荐】Activity#onSaveInstanceState()方法不是 Activity 生命周期方法，也不保证一定会被调用。它是用来在 Activity 被意外销毁时保存 UI 状态的，只能用于保存临时性数据，例如 UI 控件的属性等，不能跟数据的持久化存储混为一谈。持久化存储应该在 Activity#onPause()/onStop()中实行。</p>
<p>3.【强制】Activity 间通过隐式 Intent 的跳转，在发出 Intent 之前必须通过 resolveActivity检查，避免找不到合适的调用组件，造成 ActivityNotFoundException 的异常。</p>
<p>4.【强制】避免在 Service#onStartCommand()/onBind()方法中执行耗时操作，如果确实有需求，应改用 IntentService 或采用其他异步机制完成。</p>
<p>5.【强制】避免在 BroadcastReceiver#onReceive()中执行耗时操作，如果有耗时工作，应该创建 IntentService 完成，而不应该在 BroadcastReceiver 内创建子线程去做。</p>
<p>​    说明：</p>
<p>​    由于该方法是在主线程执行，如果执行耗时操作会导致 UI 不流畅。可以使用IntentService 、 创 建 HandlerThread 或 者 调 用 Context#registerReceiver(BroadcastReceiver, IntentFilter, String, Handler)方法等方式，在其他 Wroker 线程执行 onReceive 方法。BroadcastReceiver#onReceive()方法耗时超过 10 秒钟，可能会被系统杀死。</p>
<p>6.【强制】避免使用隐式 Intent 广播敏感信息，信息可能被其他注册了对应BroadcastReceiver 的 App 接收。</p>
<p>​    说明：</p>
<p>​    通过 Context#sendBroadcast()发送的隐式广播会被所有感兴趣的 receiver 接收，恶意应用注册监听该广播的 receiver 可能会获取到 Intent 中传递的敏感信息，并进行其他危险操作。如果发送的广播为使用 Context#sendOrderedBroadcast()方法发送的有序广播，优先级较高的恶意 receiver 可能直接丢弃该广播，造成服务不可用，或者向广播结果塞入恶意数据。</p>
<p>​    如果广播仅限于应用内，则可以使用 LocalBroadcastManager#sendBroadcast()实现，避免敏感信息外泄和 Intent 拦截的风险。</p>
<p>7.【推荐】添 加 Fragment 时 ， 确 保 FragmentTransaction#commit() 在Activity#onPostResume()或者 FragmentActivity#onResumeFragments()内调用。不要随意使用 FragmentTransaction#commitAllowingStateLoss()来代替，任何commitAllowingStateLoss()的使用必须经过 code review，确保无负面影响。</p>
<p>​    说明：</p>
<p>​    Activity 可 能 因 为 各 种 原 因 被 销 毁 ， Android 支 持 页 面 被 销 毁 前 通 过Activity#onSaveInstanceState() 保 存 自 己 的 状 态 。 但 如 果FragmentTransaction.commit()发生在 Activity 状态保存之后，就会导致 Activity 重建、恢复状态时无法还原页面状态，从而可能出错。为了避免给用户造成不好的体验，系统会抛出 IllegalStateExceptionStateLoss 异常。推荐的做法是在 Activity 的onPostResume() 或 onResumeFragments() （ 对 FragmentActivity ） 里 执 行FragmentTransaction.commit()，如有必要也可在 onCreate()里执行。不要随意改用FragmentTransaction.commitAllowingStateLoss() 或 者 直 接 使 用 try-catch 避 免crash，这不是问题的根本解决之道，当且仅当你确认 Activity 重建、恢复状态时，本次 commit 丢失不会造成影响时才可这么做。</p>
<p>8.【推荐】不要在 Activity#onDestroy()内执行释放资源的工作，例如一些工作线程的销毁和停止，因为 onDestroy()执行的时机可能较晚。可根据实际需要，在Activity#onPause()/onStop()中结合 isFinishing()的判断来执行。</p>
<p>9.【推荐】如非必须，避免使用嵌套的 Fragment。</p>
<p>​    说明：</p>
<p>​    嵌套 Fragment 是在 Android API 17 添加到 SDK 以及 Support 库中的功能，Fragment 嵌套使用会有一些坑，容易出现 bug，比较常见的问题有如下几种：</p>
<p>​    1) onActivityResult()方法的处理错乱，内嵌的 Fragment 可能收不到该方法的回调，需要由宿主 Fragment 进行转发处理；</p>
<p>​    2) 突变动画效果；</p>
<p>​    3) 被继承的 setRetainInstance()，导致在 Fragment 重建时多次触发不必要的逻辑。</p>
<p>​    非必须的场景尽可能避免使用嵌套 Fragment，如需使用请注意上述问题。</p>
<p>10.【推荐】总是使用显式 Intent 启动或者绑定 Service，且不要为服务声明 Intent Filter，保证应用的安全性。如果确实需要使用隐式调用，则可为 Service 提供 Intent Filter并从 Intent 中排除相应的组件名称，但必须搭配使用 Intent#setPackage()方法设置Intent 的指定包名，这样可以充分消除目标服务的不确定性。</p>
<p>11.【推荐】Service 需要以多线程来并发处理多个启动请求，建议使用 IntentService，可避免各种复杂的设置。</p>
<p>​    说明：</p>
<p>​    Service 组件一般运行主线程，应当避免耗时操作，如果有耗时操作应该在 Worker线程执行。 可以使用 IntentService 执行后台任务。</p>
<p>12.【推荐】对于只用于应用内的广播，优先使用 LocalBroadcastManager 来进行注册和发送，LocalBroadcastManager 安全性更好，同时拥有更高的运行效率。</p>
<p>​    说明：</p>
<p>​    对于使用 Context#sendBroadcast()等方法发送全局广播的代码进行提示。如果该广播仅用于应用内，则可以使用 LocalBroadcastManager 来避免广播泄漏以及广播被拦截等安全问题，同时相对全局广播本地广播的更高效。</p>
<p>13.【推荐】当前 Activity的 onPause方法执行结束后才会执行下一个 Activity的 onCreate方法，所以在 onPause 方法中不适合做耗时较长的工作，这会影响到页面之间的跳转效率。</p>
<p>14.【强制】不要在 Android 的 Application 对象中缓存数据。基础组件之间的数据共享请使用 Intent 等机制，也可使用 SharedPreferences 等数据持久化机制。</p>
<p>15.【推荐】使用 Toast 时，建议定义一个全局的 Toast 对象，这样可以避免连续显示Toast 时不能取消上一次 Toast 消息的情况(如果你有连续弹出 Toast 的情况，避免使用 Toast.makeText)。</p>
<p>16.【强制】使用 Adapter 的时候，如果你使用了 ViewHolder 做缓存，在 getView()的方法中无论这项 convertView 的每个子控件是否需要设置属性(比如某个 TextView设置的文本可能为 null，某个按钮的背景色为透明，某控件的颜色为透明等)，都需要为其显式设置属性(Textview 的文本为空也需要设置 setText(“”)，背景透明也需要设置)，否则在滑动的过程中，因为 adapter item 复用的原因，会出现内容的显示错乱。</p>
<p>17.【强制】Activity或者 Fragment 中动态注册 BroadCastReceiver 时， registerReceiver()和 unregisterReceiver()要成对出现。</p>
<p>​    说明：</p>
<p>​    如果 registerReceiver()和 unregisterReceiver()不成对出现，则可能导致已经注册的receiver 没有在合适的时机注销，导致内存泄漏，占用内存空间，加重 SystemService负担。</p>
<p>​    部分华为的机型会对 receiver 进行资源管控，单个应用注册过多 receiver 会触发管控模块抛出异常，应用直接崩溃。</p>
<p>​    Activity 的生命周期不对应，可能出现多次 onResume 造成 receiver 注册多个，但最终只注销一个，其余 receiver 产生内存泄漏。</p>
<h1 id="四、UI与布局"><a href="#四、UI与布局" class="headerlink" title="四、UI与布局"></a>四、UI与布局</h1><p>1.【强制】布局中不得不使用 ViewGroup 多重嵌套时，不要使用 LinearLayout 嵌套，改用 RelativeLayout，可以有效降低嵌套数。</p>
<p>​    说明：</p>
<p>​    Android 应用页面上任何一个 View 都需要经过 measure、 layout、 draw 三个步骤才能被正确的渲染。从 xml layout 的顶部节点开始进行 measure，每个子节点都需要向自己的父节点提供自己的尺寸来决定展示的位置，在此过程中可能还会重新measure（由此可能导致 measure 的时间消耗为原来的 2-3 倍）。节点所处位置越深，套嵌带来的 measure 越多，计算就会越费时。这就是为什么扁平的 View 结构会性能更好。</p>
<p>​    同时，页面拥上的 View 越多，measure、 layout、 draw 所花费的时间就越久。要缩短这个时间，关键是保持 View 的树形结构尽量扁平，而且要移除所有不需要渲染的View。理想情况下，总共的 measure，layout，draw 时间应该被很好的控制在 16ms以内，以保证滑动屏幕时 UI 的流畅。</p>
<p>​    要找到那些多余的 View（增加渲染延迟的 view），可以用 Android Studio Monitor里的 Hierarachy Viewer 工具，可视化的查看所有的 view。</p>
<p>2.【推荐】在 Activity 中显示对话框或弹出浮层时，尽量使用 DialogFragment，而非Dialog/AlertDialog，这样便于随Activity生命周期管理对话框/弹出浮层的生命周期。</p>
<p>3.【推荐】源文件统一采用 UTF-8 的形式进行编码。</p>
<p>4.【强制】禁止在非 ui 线程进行 view 相关操作。</p>
<p>5.【推荐】文本大小使用单位 dp，view 大小使用单位 dp。对于 Textview，如果在文字大小确定的情况下推荐使用 wrap_content 布局避免出现文字显示不全的适配问题。</p>
<p>6.【强制】禁止在设计布局时多次设置子 view 和父 view 中为同样的背景造成页面过度绘制，推荐将不需要显示的布局进行及时隐藏。</p>
<p>7.【推荐】灵活使用布局，推荐 Merge、 ViewStub 来优化布局，尽可能多的减少 UI布局层级，推荐使用 FrameLayout，LinearLayout、 RelativeLayout 次之。</p>
<p>8.【推荐】在需要时刻刷新某一区域的组件时，建议通过以下方式避免引发全局 layout刷新:</p>
<p>​    1) 设置固定的 view 大小的高宽，如倒计时组件等；</p>
<p>​    2) 调用 view 的 layout 方式修改位置，如弹幕组件等；</p>
<p>​    3) 通过修改 canvas 位置并且调用 invalidate(int l, int t, int r, int b)等方式限定刷新区域；</p>
<p>​    4) 通过设置一个是否允许 requestLayout 的变量，然后重写控件的 requestlayout、onSizeChanged 方 法 ， 判 断 控 件 的 大 小 没 有 改 变 的 情 况 下 ， 当 进 入requestLayout 的时候，直接返回而不调用 super 的 requestLayout 方法。</p>
<p>9.【推荐】不能在 Activity 没有完全显示时显示 PopupWindow 和 Dialog。</p>
<p>10.【推荐】尽量不要使用 AnimationDrawable，它在初始化的时候就将所有图片加载到内存中，特别占内存，并且还不能释放，释放之后下次进入再次加载时会报错。</p>
<p>​    说明：</p>
<p>​    Android 的帧动画可以使用 AnimationDrawable 实现，但是如果你的帧动画中如果包含过多帧图片，一次性加载所有帧图片所导致的内存消耗会使低端机发生 OOM异常。帧动画所使用的图片要注意降低内存消耗，当图片比较大时，容易出现 OOM。</p>
<p>11.【强制】不能使用 ScrollView 包裹 ListView/GridView/ExpandableListVIew;因为这样会把 ListView 的所有 Item 都加载到内存中，要消耗巨大的内存和 cpu 去绘制图面。</p>
<p>​    说明：</p>
<p>​    ScrollView 中嵌套 List 或 RecyclerView 的做法官方明确禁止。除了开发过程中遇到的各种视觉和交互问题，这种做法对性能也有较大损耗。 ListView 等 UI 组件自身有垂直滚动功能，也没有必要在嵌套一层 ScrollView。目前为了较好的 UI 体验，更贴近 Material Design 的设计，推荐使用 NestedScrollView。</p>
<h1 id="五、进程、线程与消息通信"><a href="#五、进程、线程与消息通信" class="headerlink" title="五、进程、线程与消息通信"></a>五、进程、线程与消息通信</h1><p>1.【强制】不要通过 Intent 在 Android 基础组件之间传递大数据（binder transaction缓存为 1MB），可能导致 OOM。</p>
<p>2.【强制】在 Application 的业务初始化代码加入进程判断，确保只在自己需要的进程初始化。特别是后台进程减少不必要的业务初始化。</p>
<p>3.【强制】新建线程时，必须通过线程池提供（AsyncTask 或者 ThreadPoolExecutor或者其他形式自定义的线程池） ，不允许在应用中自行显式创建线程。</p>
<p>​    说明：</p>
<p>​    使用线程池的好处是减少在创建和销毁线程上所花的时间以及系统资源的开销，解决资源不足的问题。如果不使用线程池，有可能造成系统创建大量同类线程而导致消耗完内存或者“过度切换”的问题。 另外创建匿名线程不便于后续的资源使用分析，对性能分析等会造成困扰。</p>
<p>4.【强制】线程池不允许使用 Executors 去创建，而是通过 ThreadPoolExecutor 的方式，这样的处理方式让写的同学更加明确线程池的运行规则，规避资源耗尽的风险。</p>
<p>​    说明：</p>
<p>​    Executors 返回的线程池对象的弊端如下：</p>
<p>​    1) FixedThreadPool 和 SingleThreadPool ： 允 许 的 请 求 队 列 长 度 为Integer.MAX_VALUE，可能会堆积大量的请求，从而导致 OOM；</p>
<p>​    2) CachedThreadPool 和 ScheduledThreadPool ： 允 许 的 创 建 线 程 数 量 为Integer.MAX_VALUE，可能会创建大量的线程，从而导致 OOM。</p>
<p>5.【强制】子线程中不能更新界面，更新界面必须在主线程中进行，网络操作不能在主线程中调用。</p>
<p>6.【强制】不要在非 UI 线程中初始化 ViewStub，否则会返回 null。</p>
<p>7.【推荐】尽量减少不同 APP 之间的进程间通信及拉起行为。拉起导致占用系统资源，影响用户体验。</p>
<p>8.【推荐】新建线程时，定义能识别自己业务的线程名称，便于性能优化和问题排查。</p>
<p>9.【推荐】ThreadPoolExecutor 设置线程存活时间(setKeepAliveTime)，确保空闲时线程能被释放。</p>
<p>10.【推荐】禁 止 在 多 进 程 之 间 用 SharedPreferences 共 享 数 据 ， 虽 然 可 以(MODE_MULTI_PROCESS)，但官方已不推荐。</p>
<p>11.【推荐】谨慎使用 Android 的多进程，多进程虽然能够降低主进程的内存压力，但会遇到如下问题：</p>
<p>​    1) 不能实现完全退出所有 Activity 的功能；</p>
<p>​    2) 首次进入新启动进程的页面时会有延时的现象（有可能黑屏、白屏几秒，是白屏还是黑屏和新 Activity 的主题有关） ；</p>
<p>​    3) 应用内多进程时，Application 实例化多次，需要考虑各个模块是否都需要在所有进程中初始化；</p>
<p>​    4) 多进程间通过 SharedPreferences 共享数据时不稳定。</p>
<h1 id="六、文件与数据库"><a href="#六、文件与数据库" class="headerlink" title="六、文件与数据库"></a>六、文件与数据库</h1><p>1.【强制】任何时候不要硬编码文件路径，请使用 Android 文件系统 API 访问。</p>
<p>​    说明：</p>
<p>​    Android 应用提供内部和外部存储，分别用于存放应用自身数据以及应用产生的用户数据。可以通过相关 API 接口获取对应的目录，进行文件操作。</p>
<p>2.【强制】当使用外部存储时，必须检查外部存储的可用性。</p>
<p>3.【强制】应用间共享文件时，不要通过放宽文件系统权限的方式去实现，而应使用FileProvider。</p>
<p>4.【推荐】SharedPreference 中只能存储简单数据类型（int、 boolean、 String 等），复杂数据类型建议使用文件、数据库等其他方式存储。</p>
<p>5.【推荐】SharedPreference 提 交 数 据 时 ， 尽 量 使 用 Editor#apply() ， 而 非Editor#commit()。一般来讲，仅当需要确定提交结果，并据此有后续操作时，才使用 Editor#commit()。</p>
<p>​    说明：</p>
<p>​    SharedPreference 相关修改使用 apply 方法进行提交会先写入内存，然后异步写入磁盘， commit 方法是直接写入磁盘。如果频繁操作的话 apply 的性能会优于 commit，apply 会将最后修改内容写入磁盘。但是如果希望立刻获取存储操作的结果，并据此做相应的其他操作，应当使用 commit。</p>
<p>6.【强制】数据库 Cursor 必须确保使用完后关闭，以免内存泄漏。</p>
<p>​    说明：</p>
<p>​    Cursor 是对数据库查询结果集管理的一个类，当查询的结果集较小时，消耗内存不易察觉。但是当结果集较大，长时间重复操作会导致内存消耗过大，需要开发者在操作完成后手动关闭 Cursor。</p>
<p>​    数据库 Cursor 在创建及使用时，可能发生各种异常，无论程序是否正常结束，必须在最后确保 Cursor 正确关闭，以避免内存泄漏。同时，如果 Cursor 的使用还牵涉多线程场景，那么需要自行保证操作同步。</p>
<p>7.【强制】多线程操作写入数据库时，需要使用事务，以免出现同步问题。</p>
<p>​    说明：</p>
<p>​    Android 的通过 SQLiteOpenHelper 获取数据库 SQLiteDatabase 实例， Helper 中会自动缓存已经打开的 SQLiteDatabase 实例，单个 App 中应使用 SQLiteOpenHelper的单例模式确保数据库连接唯一。由于 SQLite 自身是数据库级锁，单个数据库操作是保证线程安全的（不能同时写入），transaction 时一次原子操作，因此处于事务中的操作是线程安全的。</p>
<p>​    若同时打开多个数据库连接，并通过多线程写入数据库，会导致数据库异常，提示数据库已被锁住。</p>
<p>8.【推荐】大数据写入数据库时，请使用事务或其他能够提高 I/O 效率的机制，保证执行速度。</p>
<p>9.【强制】执行 SQL 语句时，应使用 SQLiteDatabase#insert()、 update()、 delete()，不要使用 SQLiteDatabase#execSQL()，以免 SQL 注入风险。</p>
<p>10.【强制】如果 ContentProvider 管理的数据存储在 SQL 数据库中，应该避免将不受信任的外部数据直接拼接在原始 SQL 语句中，可使用一个用于将 ? 作为可替换参数的选择子句以及一个单独的选择参数数组，会避免 SQL 注入。</p>
<h1 id="七、Bitmap、Drawable与动画"><a href="#七、Bitmap、Drawable与动画" class="headerlink" title="七、Bitmap、Drawable与动画"></a>七、Bitmap、Drawable与动画</h1><p>1.【强制】加载大图片或者一次性加载多张图片，应该在异步线程中进行。图片的加载，涉及到 IO 操作，以及 CPU 密集操作，很可能引起卡顿。</p>
<p>2.【强制】在 ListView，ViewPager，RecyclerView，GirdView 等组件中使用图片时，应做好图片的缓存，避免始终持有图片导致内存泄露，也避免重复创建图片，引起性 能 问 题 。 建 议 使 用 Fresco （ <a href="https://github.com/facebook/fresco" target="_blank" rel="external">https://github.com/facebook/fresco</a> ）、 Glide（<a href="https://github.com/bumptech/glide）等图片库。" target="_blank" rel="external">https://github.com/bumptech/glide）等图片库。</a></p>
<p>3.【强制】png 图片使用 tinypng 或者类似工具压缩处理，减少包体积。</p>
<p>4.【推荐】应根据实际展示需要，压缩图片，而不是直接显示原图。手机屏幕比较小，直接显示原图，并不会增加视觉上的收益，但是却会耗费大量宝贵的内存。</p>
<p>5.【强制】使用完毕的图片，应该及时回收，释放宝贵的内存。</p>
<p>6.【推荐】针对不同的屏幕密度，提供对应的图片资源，使内存占用和显示效果达到合理的平衡。如果为了节省包体积，可以在不影响 UI 效果的前提下，省略低密度图片。</p>
<p>7.【强制】在 Activity.onPause()或 Activity.onStop()回调中，关闭当前 activity 正在执行的的动画。</p>
<p>8.【推荐】在动画或者其他异步任务结束时，应该考虑回调时刻的环境是否还支持业务处理。例如 Activity 的 onStop()函数已经执行，且在该函数中主动释放了资源，此时回调中如果不做判断就会空指针崩溃。</p>
<p>9.【推荐】使用 inBitmap 重复利用内存空间，避免重复开辟新内存。</p>
<p>10.【推荐】使用 ARGB_565 代替 ARGB_888，在不怎么降低视觉效果的前提下，减少内存占用。</p>
<p>​    说明：</p>
<p>​    android.graphics.Bitmap.Config 类中关于图片颜色的存储方式定义：</p>
<p>​    1) ALPHA_8 代表 8 位 Alpha 位图；</p>
<p>​    2) ARGB_4444 代表 16 位 ARGB 位图；</p>
<p>​    3) ARGB_8888 代表 32 位 ARGB 位图；</p>
<p>​    4) RGB_565 代表 8 位 RGB 位图。</p>
<p>​    位图位数越高，存储的颜色信息越多，图像也就越逼真。大多数场景使用的是ARGB_8888 和 RGB_565，RGB_565 能够在保证图片质量的情况下大大减少内存的开销，是解决 oom 的一种方法。</p>
<p>​    但是一定要注意 RGB_565 是没有透明度的，如果图片本身需要保留透明度，那么就不能使用 RGB_565。</p>
<p>11.【推荐】尽量减少 Bitmap （BitmapDrawable）的使用，尽量使用纯色（ColorDrawable）、渐变色（GradientDrawable）、 StateSelector（StateListDrawable）等与 Shape 结合的形式构建绘图。</p>
<p>12.【推荐】谨慎使用 gif 图片，注意限制每个页面允许同时播放的 gif 图片，以及单个gif 图片的大小。</p>
<p>13.【参考】大图片资源不要直接打包到 apk，可以考虑通过文件仓库远程下载，减小包体积。</p>
<p>14.【推荐】根据设备性能，选择性开启复杂动画，以实现一个整体较优的性能和体验；</p>
<p>15.【推荐】在有强依赖 onAnimationEnd 回调的交互时，如动画播放完毕才能操作页面 ， onAnimationEnd 可 能 会 因 各 种 异 常 没 被 回 调 （ 参 考 ：<a href="https://stackoverflow.com/questions/5474923/onanimationend-is-not-getting-called-onanimationstart-works-fine" target="_blank" rel="external">https://stackoverflow.com/questions/5474923/onanimationend-is-not-getting-called-onanimationstart-works-fine</a> ）， 建 议 加 上 超 时 保 护 或 通 过 postDelay 替 代onAnimationEnd。</p>
<p>16.【推荐】当 View Animation 执行结束时，调用 View.clearAnimation()释放相关资源。</p>
<h1 id="八、安全"><a href="#八、安全" class="headerlink" title="八、安全"></a>八、安全</h1><p>1.【强制】使用 PendingIntent 时，禁止使用空 intent，同时禁止使用隐式 Intent</p>
<p>​    说明：</p>
<p>​    1) 使用 PendingIntent 时，使用了空 Intent,会导致恶意用户劫持修改 Intent 的内容。禁止使用一个空 Intent 去构造 PendingIntent，构造 PendingIntent 的 Intent一定要设置 ComponentName 或者 action。</p>
<p>​    2) PendingIntent 可以让其他 APP 中的代码像是运行自己 APP 中。 PendingIntent的intent接收方在使用该intent时与发送方有相同的权限。在使用PendingIntent时，PendingIntent 中包装的 intent 如果是隐式的 Intent，容易遭到劫持，导致信息泄露。</p>
<p>2.【强制】禁止使用常量初始化矢量参数构建 IvParameterSpec，建议 IV 通过随机方式产生。</p>
<p>​    说明：</p>
<p>​    使用固定初始化向量，结果密码文本可预测性会高得多，容易受到字典式攻击。 iv的作用主要是用于产生密文的第一个 block，以使最终生成的密文产生差异（明文相同的情况下），使密码攻击变得更为困难，除此之外 iv 并无其它用途。因此 iv 通过随机方式产生是一种十分简便、有效的途径。</p>
<p>3.【强制】将 android:allowbackup 属性设置为 false，防止 adb backup 导出数据。</p>
<p>​    说明：</p>
<p>​    在 AndroidManifest.xml 文件中为了方便对程序数据的备份和恢复在 Android APIlevel 8 以后增加了 android:allowBackup 属性值。默认情况下这个属性值为 true,故当 allowBackup 标志值为 true 时，即可通过 adb backup 和 adb restore 来备份和恢复应用程序数据。</p>
<p>4.【强制】在实现的 HostnameVerifier 子类中，需要使用 verify 函数效验服务器主机名的合法性，否则会导致恶意程序利用中间人攻击绕过主机名效验。</p>
<p>​    说明：</p>
<p>​    在握手期间，如果 URL 的主机名和服务器的标识主机名不匹配，则验证机制可以回调此接口的实现程序来确定是否应该允许此连接。如果回调内实现不恰当，默认接受所有域名，则有安全风险。</p>
<p>5.【强制】利用 X509TrustManager 子类中的 checkServerTrusted 函数效验服务器端证书的合法性。</p>
<p>​    说明：</p>
<p>​    在实现的 X509TrustManager 子类中未对服务端的证书做检验，这样会导致不被信任的证书绕过证书效验机制。</p>
<p>6.【强制】META-INF 目录中不能包含如.apk,.odex,.so 等敏感文件，该文件夹没有经过签名，容易被恶意替换。</p>
<p>7.【强制】Receiver/Provider 不能在毫无权限控制的情况下，将 android:export 设置为 true。</p>
<p>8.【参考】数据存储在 Sqlite 或者轻量级存储需要对数据进行加密，取出来的时候进行解密。</p>
<p>9.【强制】阻止 webview 通过 file:schema 方式访问本地敏感数据。</p>
<p>10.【强制】不要广播敏感信息，只能在本应用使用 LocalBroadcast，避免被别的应用收到，或者 setPackage 做限制。</p>
<p>11.【强制】不要把敏感信息打印到 log 中。</p>
<p>​    说明：</p>
<p>​    在 APP 的开发过程中，为了方便调试，通常会使用 log 函数输出一些关键流程的信息，这些信息中通常会包含敏感内容，如执行流程、明文的用户名密码等，这会让攻击者更加容易的了解 APP 内部结构方便破解和攻击，甚至直接获取到有价值的敏感信息。</p>
<p>12.【强制】对于内部使用的组件，显示设置组件的”android:exported”属性为 false。</p>
<p>​    说明：</p>
<p>​    Android 应用使用 Intent 机制在组件之间传递数据，如果应用在使用 getIntent()，getAction()，Intent.getXXXExtra()获取到空数据、异常或者畸形数据时没有进行异常捕获，应用就会发生 Crash，应用不可使用（本地拒绝服务）。恶意应用可通过向受害者应用发送此类空数据、异常或者畸形数据从而使应用产生本地拒绝服务。</p>
<p>13.【强制】应用发布前确保 android:debuggable 属性设置为 false。</p>
<p>14.【强制】使用 Intent Scheme URL 需要做过滤。</p>
<p>​    说明：</p>
<p>​    如果浏览器支持 Intent Scheme Uri 语法，如果过滤不当，那么恶意用户可能通过浏览器 js 代码进行一些恶意行为，比如盗取 cookie 等。如果使用了 Intent.parseUri函 数 ， 获 取 的 intent 必 须 严 格 过 滤 ， intent 至 少 包 含addCategory(“android.intent.category.BROWSABLE”) ， setComponent(null) ，setSelector(null)3 个策略。</p>
<p>15.【强制】密钥加密存储或者经过变形处理后用于加解密运算，切勿硬编码到代码中。</p>
<p>​    说明：</p>
<p>​    应用程序在加解密时，使用硬编码在程序中的密钥，攻击者通过反编译拿到密钥可以轻易解密 APP 通信数据。</p>
<p>16.【强制】将所需要动态加载的文件放置在 apk 内部，或应用私有目录中，如果应用必须要把所加载的文件放置在可被其他应用读写的目录中(比如 sdcard)，建议对不可信的加载源进行完整性校验和白名单处理，以保证不被恶意代码注入。</p>
<p>17.【强制】除非 min API level &gt;=17，请注意 addJavascriptInterface 的使用。</p>
<p>​    说明：</p>
<p>​    API level&gt;=17，允许 js 被调用的函数必须以@JavascriptInterface 进行注解，因此不受影响； 对于 API level &lt; 17，尽量不要使用 addJavascriptInterface，如果一定要用，那么：</p>
<p>​    1) 使用 https 协议加载 URL，使用证书校验，防止访问的页面被篡改挂马；</p>
<p>​    2) 对加载 URL 做白名单过滤、完整性校验等防止访问的页面被篡改；</p>
<p>​    3) 如果加载本地 html,应该会 HTML 内置在 APK 中，以及对 HTML 页面进行完整性校验。</p>
<p>18.【强制】使用 Android 的 AES/DES/DESede 加密算法时，不要使用默认的加密模式ECB，应显示指定使用 CBC 或 CFB 加密模式。</p>
<p>​    说明：</p>
<p>​    加密模式 ECB、 CBC、 CFB、 OFB 等，其中 ECB 的安全性较弱，会使相同的铭文在不同的时候产生相同的密文，容易遇到字典攻击，建议使用 CBC 或 CFB 模式。</p>
<p>​    1) ECB：Electronic codebook，电子密码本模式</p>
<p>​    2) CBC：Cipher-block chaining，密码分组链接模式</p>
<p>​    3) CFB：Cipher feedback，密文反馈模式</p>
<p>​    4) OFB：Output feedback，输出反馈模式</p>
<p>19.【强制】不要使用 loopback 来通信敏感信息。</p>
<p>20.【推荐】对于不需要使用 File 协议的应用，禁用 File 协议，显式设置 webView.getSettings().setAllowFileAccess(false)，对于需要使用 File 协议的应用，禁止 File协议调用 JavaScript，显式设置 webView.getSettings().setJavaScriptEnabled(false)。</p>
<p>21.【强制】Android APP 在 HTTPS 通信中，验证策略需要改成严格模式。</p>
<p>​    说明： AndroidAPP 在 HTTPS 通信中，使用ALLOW_ALL_HOSTNAME_VERIFIER，表示允许和所有的 HOST 建立 SSL 通信，这会存在中间人攻击的风险，最终导致敏感信息可能会被劫持，以及其他形式的攻击。</p>
<p>22.【推荐】Android5.0 以后安全性要求 较高的应用 应该使 用 window.setFlag(LayoutParam.FLAG_SECURE) 禁止录屏。</p>
<p>23.【推荐】zip 中不建议允许../../file 这样的路径，可能被篡改目录结构，造成攻击。</p>
<p>​    说明：当 zip 压缩包中允许存在”../“的字符串，攻击者可以利用多个”../“在解压时改变zip 文件存放的位置，当文件已经存在是就会进行覆盖，如果覆盖掉的文件是 so、dex 或者 odex 文件，就有可能造成严重的安全问题。</p>
<p>24.【强制】开放的 activity/service/receiver 等需要对传入的 intent 做合法性校验。</p>
<p>25.【推荐】加密算法：使用不安全的 Hash 算法(MD5/SHA-1)加密信息，存在被破解的风险，建议使用 SHA-256 等安全性更高的 Hash 算法。</p>
<p>26.【推荐】Android WebView 组件加载网页发生证书认证错误时,采用默认的处理方法handler.cancel()，停止加载问题页面。</p>
<p>​    说明：</p>
<p>​    Android WebView 组件加载网页发生证书认证错误时，会调用 WebViewClient 类的onReceivedSslError 方法，如果该方法实现调用了 handler.proceed()来忽略该证书错误，则会受到中间人攻击的威胁，可能导致隐私泄露。</p>
<p>27.【推荐】直接传递命令字或者间接处理有敏感信息或操作时，避免使用 socket 实现，使用能够控制权限校验身份的方式通讯。</p>
<h1 id="九、其他"><a href="#九、其他" class="headerlink" title="九、其他"></a>九、其他</h1><p>1.【强制】不要通过 Msg 传递大的对象，会导致内存问题。</p>
<p>2.【强制】不能使用 System.out.println 打印 log。</p>
<p>3.【强制】Log 的 tag 不能是” “。</p>
<p>作者：鑫鱻</p>
<p>链接：<a href="https://www.jianshu.com/p/cc17c4d180fa" target="_blank" rel="external">https://www.jianshu.com/p/cc17c4d180fa</a></p>
<p>來源：简书</p>
<p>简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/架构/" rel="tag"># 架构</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/30/ReactiveX3/" rel="next" title="RxJava2 复杂异步场景之——Token前置请求">
                <i class="fa fa-chevron-left"></i> RxJava2 复杂异步场景之——Token前置请求
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/02/26/MarkDown/" rel="prev" title="Markdown的常用语法">
                Markdown的常用语法 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">bo.wang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#一、前言"><span class="nav-number">1.</span> <span class="nav-text">一、前言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二、内容"><span class="nav-number">2.</span> <span class="nav-text">二、内容</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#一、Java语言规范"><span class="nav-number"></span> <span class="nav-text">一、Java语言规范</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二、Android资源文件命名与使用"><span class="nav-number"></span> <span class="nav-text">二、Android资源文件命名与使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三、Android基本组件"><span class="nav-number"></span> <span class="nav-text">三、Android基本组件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四、UI与布局"><span class="nav-number"></span> <span class="nav-text">四、UI与布局</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#五、进程、线程与消息通信"><span class="nav-number"></span> <span class="nav-text">五、进程、线程与消息通信</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#六、文件与数据库"><span class="nav-number"></span> <span class="nav-text">六、文件与数据库</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#七、Bitmap、Drawable与动画"><span class="nav-number"></span> <span class="nav-text">七、Bitmap、Drawable与动画</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#八、安全"><span class="nav-number"></span> <span class="nav-text">八、安全</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#九、其他"><span class="nav-number"></span> <span class="nav-text">九、其他</span></a></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">bo.wang</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  









<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>



  





  

  

  

  
  

  

  

  

</body>
</html>
